<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Classes  Reference</title>
    <link rel="stylesheet" type="text/css" href="css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="css/highlight.css" />
    <meta charset="utf-8">
    <script src="js/jquery.min.js" defer></script>
    <script src="js/jazzy.js" defer></script>
    
    <script src="js/lunr.min.js" defer></script>
    <script src="js/typeahead.jquery.js" defer></script>
    <script src="js/jazzy.search.js" defer></script>
  </head>
  <body>

    <a name="//apple_ref/swift/Section/Classes" class="dashAnchor"></a>

    <a title="Classes  Reference"></a>

    <header class="header">
      <p class="header-col header-col--primary">
        <a class="header-link" href="index.html">
          Tafelsalz Docs
        </a>
         (100% documented)
      </p>
    
      <p class="header-col--secondary">
        <form role="search" action="search.json">
          <input type="text" placeholder="Search documentation" data-typeahead>
        </form>
      </p>
    
        <p class="header-col header-col--secondary">
          <a class="header-link" href="https://github.com/blochberger/Tafelsalz">
            <img class="header-icon" src="img/gh.png"/>
            View on GitHub
          </a>
        </p>
    
    </header>

    <p class="breadcrumbs">
      <a class="breadcrumb" href="index.html">Tafelsalz Reference</a>
      <img class="carat" src="img/carat.png" />
      Classes  Reference
    </p>

    <div class="content-wrapper">
      <nav class="navigation">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Classes.html">Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/GenericHash.html">GenericHash</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/GenericHash/Key.html">– Key</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/KeyExchange.html">KeyExchange</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/KeyExchange/Side.html">– Side</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/KeyExchange/PublicKey.html">– PublicKey</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/KeyExchange/SessionKey.html">– SessionKey</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/KeyExchange/SessionKeyPair.html">– SessionKeyPair</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/KeyMaterial.html">KeyMaterial</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/MasterKey.html">MasterKey</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/MasterKey/Context.html">– Context</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/MasterKey/DerivedKey.html">– DerivedKey</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/Memory.html">Memory</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/Password.html">Password</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/Password/ComplexityLimit.html">– ComplexityLimit</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/Password/MemoryLimit.html">– MemoryLimit</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/Password/Salt.html">– Salt</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/Password/DerivedKey.html">– DerivedKey</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/Persona.html">Persona</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/Persona/Error.html">– Error</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/Persona/KeyType.html">– KeyType</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/SecretBox.html">SecretBox</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/SecretBox/SecretKey.html">– SecretKey</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/SecretBox/Nonce.html">– Nonce</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/SecretBox/AuthenticationCode.html">– AuthenticationCode</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/SecretBox/AuthenticatedCiphertext.html">– AuthenticatedCiphertext</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Global Variables.html">Global Variables</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Global Variables.html#/s:9Tafelsalz6sodiumAA6SodiumVvp">sodium</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Enums.html">Enumerations</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/Padding.html">Padding</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Extensions.html">Extensions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/Array.html">Array</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/ArraySlice.html">ArraySlice</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/String.html">String</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Protocols.html">Protocols</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/EncryptedData.html">EncryptedData</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Structs.html">Structures</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/Blocks.html">Blocks</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/Ciphertext.html">Ciphertext</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/HashedPassword.html">HashedPassword</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/Random.html">Random</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/Sodium.html">Sodium</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/Sodium/SodiumGenericHash.html">– SodiumGenericHash</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/Sodium/SodiumKeyDerivation.html">– SodiumKeyDerivation</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/Sodium/SodiumKeyExchange.html">– SodiumKeyExchange</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/Sodium/SodiumMemory.html">– SodiumMemory</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/Sodium/SodiumPasswordHash.html">– SodiumPasswordHash</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/Sodium/SodiumRandom.html">– SodiumRandom</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/Sodium/SodiumSecretBox.html">– SodiumSecretBox</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Typealiases.html">Type Aliases</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Typealiases.html#/s:9Tafelsalz5Bytesa">Bytes</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">

        <section class="section">
          <div class="section-content">
            <h1>Classes</h1>
            <p>The following classes are available globally.</p>

          </div>
        </section>

        <section class="section">
          <div class="section-content">
            <div class="task-group">
              <ul class="item-container">
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:9Tafelsalz11GenericHashC"></a>
                    <a name="//apple_ref/swift/Class/GenericHash" class="dashAnchor"></a>
                    <a class="token" href="#/s:9Tafelsalz11GenericHashC">GenericHash</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>This class can be used to generate hash arbitrary data. Keyed hashing is
supported.</p>
<div class="aside aside-warning">
    <p class="aside-title">Warning</p>
    Do not use this for hashing passwords, as there is no protection against
fast brute-force attacks. Use <code><a href="Structs/HashedPassword.html">HashedPassword</a></code> for that purpose.

</div>
<h2 id='examples' class='heading'>Examples</h2>
<h3 id='public-hashing' class='heading'>Public Hashing</h3>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">data</span> <span class="o">=</span> <span class="s">"Hello, World!"</span><span class="o">.</span><span class="n">utf8Bytes</span>
<span class="k">let</span> <span class="nv">hash</span> <span class="o">=</span> <span class="kt">GenericHash</span><span class="p">(</span><span class="nv">bytes</span><span class="p">:</span> <span class="n">data</span><span class="p">)</span>
</code></pre>
<h3 id='private-hashing-with-persisted-keys' class='heading'>Private Hashing with Persisted Keys</h3>
<pre class="highlight swift"><code><span class="c1">// Create a persona</span>
<span class="k">let</span> <span class="nv">alice</span> <span class="o">=</span> <span class="kt">Persona</span><span class="p">(</span><span class="nv">uniqueName</span><span class="p">:</span> <span class="s">"Alice"</span><span class="p">)</span>

<span class="c1">// Generate a personalized hash for that persona</span>
<span class="k">let</span> <span class="nv">data</span> <span class="o">=</span> <span class="s">"Hello, World!"</span><span class="o">.</span><span class="n">utf8Bytes</span>
<span class="k">let</span> <span class="nv">hash</span> <span class="o">=</span> <span class="kt">GenericHash</span><span class="p">(</span><span class="nv">bytes</span><span class="p">:</span> <span class="n">data</span><span class="p">,</span> <span class="nv">for</span><span class="p">:</span> <span class="n">alice</span><span class="p">)</span>

<span class="c1">// Forget the persona and remove all related Keychain entries</span>
<span class="k">try!</span> <span class="kt">Persona</span><span class="o">.</span><span class="nf">forget</span><span class="p">(</span><span class="n">alice</span><span class="p">)</span>
</code></pre>

                        <a href="Classes/GenericHash.html" class="slightly-smaller">See more</a>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">class</span> <span class="kt">GenericHash</span></code></pre>

                        </div>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/blochberger/Tafelsalz/blob/944f716ead02b90bb843be285a00ea94053c35a6/Tafelsalz/GenericHash.swift#L32-L259">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <ul class="item-container">
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:9Tafelsalz11KeyExchangeC"></a>
                    <a name="//apple_ref/swift/Class/KeyExchange" class="dashAnchor"></a>
                    <a class="token" href="#/s:9Tafelsalz11KeyExchangeC">KeyExchange</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>A class that can be used for exchanging keys between two parties on an
adverserial channel.</p>
<h3 id='example' class='heading'>Example</h3>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">alice</span> <span class="o">=</span> <span class="kt">KeyExchange</span><span class="p">(</span><span class="nv">side</span><span class="p">:</span> <span class="o">.</span><span class="n">client</span><span class="p">)</span>
<span class="k">let</span> <span class="nv">bob</span> <span class="o">=</span> <span class="kt">KeyExchange</span><span class="p">(</span><span class="nv">side</span><span class="p">:</span> <span class="o">.</span><span class="n">server</span><span class="p">)</span>

<span class="k">let</span> <span class="nv">alicesSessionKey</span> <span class="o">=</span> <span class="n">alice</span><span class="o">.</span><span class="nf">sessionKey</span><span class="p">(</span><span class="nv">for</span><span class="p">:</span> <span class="n">bob</span><span class="o">.</span><span class="n">publicKey</span><span class="p">)</span>
<span class="k">let</span> <span class="nv">bobsSessionKey</span> <span class="o">=</span> <span class="n">bob</span><span class="o">.</span><span class="nf">sessionKey</span><span class="p">(</span><span class="nv">for</span><span class="p">:</span> <span class="n">alice</span><span class="o">.</span><span class="n">publicKey</span><span class="p">)</span>

<span class="c1">// alicesSessionKey == bobsSessionKey</span>
</code></pre>

                        <a href="Classes/KeyExchange.html" class="slightly-smaller">See more</a>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">class</span> <span class="kt">KeyExchange</span></code></pre>

                        </div>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/blochberger/Tafelsalz/blob/944f716ead02b90bb843be285a00ea94053c35a6/Tafelsalz/KeyExchange.swift#L17-L284">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <ul class="item-container">
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:9Tafelsalz11KeyMaterialC"></a>
                    <a name="//apple_ref/swift/Class/KeyMaterial" class="dashAnchor"></a>
                    <a class="token" href="#/s:9Tafelsalz11KeyMaterialC">KeyMaterial</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>This class can be used to securely store key material in memory.</p>

                        <a href="Classes/KeyMaterial.html" class="slightly-smaller">See more</a>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">class</span> <span class="kt">KeyMaterial</span></code></pre>

                        </div>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/blochberger/Tafelsalz/blob/944f716ead02b90bb843be285a00ea94053c35a6/Tafelsalz/KeyMaterial.swift#L4-L187">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <ul class="item-container">
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:9Tafelsalz9MasterKeyC"></a>
                    <a name="//apple_ref/swift/Class/MasterKey" class="dashAnchor"></a>
                    <a class="token" href="#/s:9Tafelsalz9MasterKeyC">MasterKey</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>A master key can be used to derive keys for other purposes.</p>
<h2 id='examples' class='heading'>Examples</h2>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">context</span> <span class="o">=</span> <span class="kt">MasterKey</span><span class="o">.</span><span class="kt">Context</span><span class="p">(</span><span class="s">"Examples"</span><span class="p">)</span><span class="o">!</span>
<span class="k">let</span> <span class="nv">masterKey</span> <span class="o">=</span> <span class="kt">MasterKey</span><span class="p">()</span>
<span class="k">let</span> <span class="nv">subKey1</span> <span class="o">=</span> <span class="n">masterKey</span><span class="o">.</span><span class="nf">derive</span><span class="p">(</span><span class="nv">sizeInBytes</span><span class="p">:</span> <span class="kt">MasterKey</span><span class="o">.</span><span class="kt">DerivedKey</span><span class="o">.</span><span class="kt">MinimumSizeInBytes</span><span class="p">,</span> <span class="nv">with</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="nv">and</span><span class="p">:</span> <span class="n">context</span><span class="p">)</span><span class="o">!</span>
<span class="k">let</span> <span class="nv">subKey2</span> <span class="o">=</span> <span class="n">masterKey</span><span class="o">.</span><span class="nf">derive</span><span class="p">(</span><span class="nv">sizeInBytes</span><span class="p">:</span> <span class="kt">MasterKey</span><span class="o">.</span><span class="kt">DerivedKey</span><span class="o">.</span><span class="kt">MinimumSizeInBytes</span><span class="p">,</span> <span class="nv">with</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="nv">and</span><span class="p">:</span> <span class="n">context</span><span class="p">)</span><span class="o">!</span>

<span class="c1">// You can also derive a key in order to use it with secret boxes</span>
<span class="k">let</span> <span class="nv">secretBox</span> <span class="o">=</span> <span class="kt">SecretBox</span><span class="p">(</span><span class="nv">secretKey</span><span class="p">:</span> <span class="n">masterKey</span><span class="o">.</span><span class="nf">derive</span><span class="p">(</span><span class="nv">with</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="nv">and</span><span class="p">:</span> <span class="n">context</span><span class="p">))</span>
</code></pre>

                        <a href="Classes/MasterKey.html" class="slightly-smaller">See more</a>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">class</span> <span class="kt">MasterKey</span> <span class="p">:</span> <span class="kt"><a href="Classes/KeyMaterial.html">KeyMaterial</a></span></code></pre>

                        </div>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/blochberger/Tafelsalz/blob/944f716ead02b90bb843be285a00ea94053c35a6/Tafelsalz/MasterKey.swift#L16-L184">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <ul class="item-container">
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:9Tafelsalz6MemoryC"></a>
                    <a name="//apple_ref/swift/Class/Memory" class="dashAnchor"></a>
                    <a class="token" href="#/s:9Tafelsalz6MemoryC">Memory</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>This class is used to securely store values in memory.</p>
<div class="aside aside-see">
    <p class="aside-title">See</p>
    <a href="https://download.libsodium.org/doc/helpers/memory_management.html"><code>libsodium</code>: Secure memory allocations</a>

</div>

                        <a href="Classes/Memory.html" class="slightly-smaller">See more</a>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">class</span> <span class="kt">Memory</span></code></pre>

                        </div>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/blochberger/Tafelsalz/blob/944f716ead02b90bb843be285a00ea94053c35a6/Tafelsalz/Memory.swift#L6-L114">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <ul class="item-container">
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:9Tafelsalz8PasswordC"></a>
                    <a name="//apple_ref/swift/Class/Password" class="dashAnchor"></a>
                    <a class="token" href="#/s:9Tafelsalz8PasswordC">Password</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>This class can be used to securely handle passwords. Passwords will be
copied to a secure memory location, comparison will be performed in constant
time to avoid timing attacks and a method for hashing passwords is provided
to store them for user authentication purposes.</p>
<h2 id='examples' class='heading'>Examples</h2>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">password</span> <span class="o">=</span> <span class="kt">Password</span><span class="p">(</span><span class="s">"Correct Horse Battery Staple"</span><span class="p">)</span><span class="o">!</span>
<span class="k">let</span> <span class="nv">hashedPassword</span> <span class="o">=</span> <span class="n">password</span><span class="o">.</span><span class="nf">hash</span><span class="p">()</span><span class="o">!</span>

<span class="c1">// Store `hashedPassword.string` to database.</span>

<span class="c1">// If a user wants to authenticate, just read it from the database and</span>
<span class="c1">// verify it against the password given by the user.</span>
<span class="k">if</span> <span class="n">hashedPassword</span><span class="o">.</span><span class="nf">isVerified</span><span class="p">(</span><span class="nv">by</span><span class="p">:</span> <span class="n">password</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// The user is authenticated successfully.</span>
<span class="p">}</span>
</code></pre>

                        <a href="Classes/Password.html" class="slightly-smaller">See more</a>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">class</span> <span class="kt">Password</span></code></pre>

                        </div>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/blochberger/Tafelsalz/blob/944f716ead02b90bb843be285a00ea94053c35a6/Tafelsalz/Password.swift#L22-L448">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <ul class="item-container">
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:9Tafelsalz7PersonaC"></a>
                    <a name="//apple_ref/swift/Class/Persona" class="dashAnchor"></a>
                    <a class="token" href="#/s:9Tafelsalz7PersonaC">Persona</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>A persona is an entity for which you are in posession of the secrets. The
secrets are persisted in the system&rsquo;s Keychain. A persona has a unique name.</p>

<p>The Keychain items are prefixed by the application&rsquo;s bundle identifier and
suffixed with a value determining the type of secret stored.</p>

<p>The actual value of the secret is Base64 encoded to allow users accessing
the value from the Keychain Access application (macOS)</p>
<div class="aside aside-note">
    <p class="aside-title">Note</p>
    The persona is unique per device and application bundle identifier. If
you create two personas with equal names on two different applications
or devices, they cannot be used to decrypt secrets of one another. If a
persona is removed and re-created with the same name, it cannot be used
to decrypt values encrypted for the previous one.

</div>
<h2 id='examples' class='heading'>Examples</h2>
<pre class="highlight swift"><code><span class="c1">// Create a persona</span>
<span class="k">let</span> <span class="nv">alice</span> <span class="o">=</span> <span class="kt">Persona</span><span class="p">(</span><span class="nv">uniqueName</span><span class="p">:</span> <span class="s">"Alice"</span><span class="p">)</span>

<span class="c1">// Once a secret of that persona is used, it will be persisted in the</span>
<span class="c1">// system's Keychain.</span>
<span class="k">let</span> <span class="nv">secretBox</span> <span class="o">=</span> <span class="kt">SecretBox</span><span class="p">(</span><span class="nv">persona</span><span class="p">:</span> <span class="n">alice</span><span class="p">)</span><span class="o">!</span>

<span class="c1">// Use your SecretBox as usual</span>
<span class="k">let</span> <span class="nv">plaintext</span> <span class="o">=</span> <span class="s">"Hello, World!"</span><span class="o">.</span><span class="n">utf8Bytes</span>
<span class="k">let</span> <span class="nv">ciphertext</span> <span class="o">=</span> <span class="n">secretBox</span><span class="o">.</span><span class="nf">encrypt</span><span class="p">(</span><span class="nv">plaintext</span><span class="p">:</span> <span class="n">plaintext</span><span class="p">)</span>
<span class="k">let</span> <span class="nv">decrypted</span> <span class="o">=</span> <span class="n">secretBox</span><span class="o">.</span><span class="nf">decrypt</span><span class="p">(</span><span class="nv">ciphertext</span><span class="p">:</span> <span class="n">ciphertext</span><span class="p">)</span><span class="o">!</span>

<span class="c1">// Forget the persona and remove all related Keychain entries</span>
<span class="k">try!</span> <span class="kt">Persona</span><span class="o">.</span><span class="nf">forget</span><span class="p">(</span><span class="n">alice</span><span class="p">)</span>
</code></pre>

                        <a href="Classes/Persona.html" class="slightly-smaller">See more</a>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">class</span> <span class="kt">Persona</span></code></pre>

                        </div>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/blochberger/Tafelsalz/blob/944f716ead02b90bb843be285a00ea94053c35a6/Tafelsalz/Persona.swift#L39-L303">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <ul class="item-container">
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:9Tafelsalz9SecretBoxC"></a>
                    <a name="//apple_ref/swift/Class/SecretBox" class="dashAnchor"></a>
                    <a class="token" href="#/s:9Tafelsalz9SecretBoxC">SecretBox</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>This class can be used to encrypt/decrypt data based on a shared secret
(symmetric key).</p>
<h2 id='example' class='heading'>Example</h2>
<h3 id='ephemeral-keys' class='heading'>Ephemeral Keys</h3>

<p>An ephemeral key is destroyed once the <code>SecretBox</code> is destroyed. There is no
way to recover it unless otherwise persisted. This can be used for keys that
should only reside in memory, e.g., if they were shared between multiple
parties.</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">secretBox</span> <span class="o">=</span> <span class="kt">SecretBox</span><span class="p">()</span>
<span class="k">let</span> <span class="nv">plaintext</span> <span class="o">=</span> <span class="s">"Hello, World!"</span><span class="o">.</span><span class="n">utf8Bytes</span>
<span class="k">let</span> <span class="nv">ciphertext</span> <span class="o">=</span> <span class="n">secretBox</span><span class="o">.</span><span class="nf">encrypt</span><span class="p">(</span><span class="nv">plaintext</span><span class="p">:</span> <span class="n">plaintext</span><span class="p">)</span>
<span class="k">let</span> <span class="nv">decrypted</span> <span class="o">=</span> <span class="n">secretBox</span><span class="o">.</span><span class="nf">decrypt</span><span class="p">(</span><span class="nv">ciphertext</span><span class="p">:</span> <span class="n">ciphertext</span><span class="p">)</span><span class="o">!</span>
</code></pre>
<h3 id='persisted-keys' class='heading'>Persisted Keys</h3>

<p>Persisted keys will be stored in and loaded from the system&rsquo;s Keychain
automatically. This is useful for encrypting data for oneself, e.g., if you
want to store encrypted files in a public document storage, such as Dropbox.</p>
<pre class="highlight swift"><code><span class="c1">// Create a persona</span>
<span class="k">let</span> <span class="nv">alice</span> <span class="o">=</span> <span class="kt">Persona</span><span class="p">(</span><span class="nv">uniqueName</span><span class="p">:</span> <span class="s">"Alice"</span><span class="p">)</span>

<span class="c1">// Once a secret of that persona is used, it will be persisted in the</span>
<span class="c1">// system's Keychain.</span>
<span class="k">let</span> <span class="nv">secretBox</span> <span class="o">=</span> <span class="kt">SecretBox</span><span class="p">(</span><span class="nv">persona</span><span class="p">:</span> <span class="n">alice</span><span class="p">)</span><span class="o">!</span>

<span class="c1">// Use your SecretBox as usual</span>
<span class="k">let</span> <span class="nv">plaintext</span> <span class="o">=</span> <span class="s">"Hello, World!"</span><span class="o">.</span><span class="n">utf8Bytes</span>
<span class="k">let</span> <span class="nv">ciphertext</span> <span class="o">=</span> <span class="n">secretBox</span><span class="o">.</span><span class="nf">encrypt</span><span class="p">(</span><span class="nv">plaintext</span><span class="p">:</span> <span class="n">plaintext</span><span class="p">)</span>
<span class="k">let</span> <span class="nv">decrypted</span> <span class="o">=</span> <span class="n">secretBox</span><span class="o">.</span><span class="nf">decrypt</span><span class="p">(</span><span class="nv">ciphertext</span><span class="p">:</span> <span class="n">ciphertext</span><span class="p">)</span><span class="o">!</span>

<span class="c1">// Forget the persona and remove all related Keychain entries</span>
<span class="k">try!</span> <span class="kt">Persona</span><span class="o">.</span><span class="nf">forget</span><span class="p">(</span><span class="n">alice</span><span class="p">)</span>
</code></pre>
<h3 id='padding' class='heading'>Padding</h3>

<p>If you add padding to your messages, the original size of the message is not
disclosed in the ciphertext. The ciphertext size will be a multiple of the
block size.</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">secretBox</span> <span class="o">=</span> <span class="kt">SecretBox</span><span class="p">()</span>
<span class="k">let</span> <span class="nv">plaintext</span> <span class="o">=</span> <span class="s">"Hello, World!"</span><span class="o">.</span><span class="n">utf8Bytes</span>
<span class="k">let</span> <span class="nv">padding</span><span class="p">:</span> <span class="kt">Padding</span> <span class="o">=</span> <span class="o">.</span><span class="nf">padded</span><span class="p">(</span><span class="nv">blockSize</span><span class="p">:</span> <span class="mi">16</span><span class="p">)</span>
<span class="k">let</span> <span class="nv">ciphertext</span> <span class="o">=</span> <span class="n">secretBox</span><span class="o">.</span><span class="nf">encrypt</span><span class="p">(</span><span class="nv">plaintext</span><span class="p">:</span> <span class="n">plaintext</span><span class="p">,</span> <span class="nv">padding</span><span class="p">:</span> <span class="n">padding</span><span class="p">)</span>
<span class="k">let</span> <span class="nv">decrypted</span> <span class="o">=</span> <span class="n">secretBox</span><span class="o">.</span><span class="nf">decrypt</span><span class="p">(</span><span class="nv">ciphertext</span><span class="p">:</span> <span class="n">ciphertext</span><span class="p">,</span> <span class="nv">padding</span><span class="p">:</span> <span class="n">padding</span><span class="p">)</span><span class="o">!</span>
</code></pre>

                        <a href="Classes/SecretBox.html" class="slightly-smaller">See more</a>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">class</span> <span class="kt">SecretBox</span></code></pre>

                        </div>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/blochberger/Tafelsalz/blob/944f716ead02b90bb843be285a00ea94053c35a6/Tafelsalz/SecretBox.swift#L58-L423">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
          </div>
        </section>

      </article>
    </div>
    <section class="footer">
      <p>&copy; 2019 <a class="link" href="https://github.com/blochberger" target="_blank" rel="external">Maximilian Blochberger</a>. All rights reserved. (Last updated: 2019-01-22)</p>
      <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ♪♫ v0.9.4</a>, a <a class="link" href="https://realm.io" target="_blank" rel="external">Realm</a> project.</p>
    </section>
  </body>
</div>
</html>
